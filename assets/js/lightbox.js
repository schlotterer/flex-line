document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".enable-lightbox").forEach((function(e){var t=e.querySelector("img, a");if(t){var o=e.getAttribute("data-popup-media-url");o&&(t.classList.add("has-popup"),t.setAttribute("data-enable-popup","true"),t.setAttribute("data-popup-media-url",o),t.addEventListener("click",(function(e){e.preventDefault(),function(e){console.log("Displaying lightbox for:",e);var t="";if(e.match(/\.(jpeg|jpg|gif|png)$/))t='<img src="'.concat(e,'" style="max-width:90%; max-height:80vh;">');else if(e.includes("youtube.com")||e.includes("youtu.be")){var o=e.split(/v=|youtu\.be\//)[1].split(/[?&]/)[0],l="https://www.youtube.com/embed/".concat(o,"?autoplay=1&enablejsapi=1");t='<div class="aspect-ratio-16-9"><iframe src="'.concat(l,'" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div>')}else if(e.includes("vimeo.com")){var a=e.split("/").pop(),i="https://player.vimeo.com/video/".concat(a,"?autoplay=1");t='<div class="aspect-ratio-16-9"><iframe src="'.concat(i,'" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div>')}else t='<video controls autoplay src="'.concat(e,'" style="max-width:90%; max-height:80vh;"></video>');var n=document.createElement("div");n.id="flexline-lightbox",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.backgroundColor="rgba(0, 0, 0, 0.8)",n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.zIndex="10000",n.style.cursor="pointer",n.setAttribute("role","dialog"),n.setAttribute("aria-modal","true"),n.setAttribute("aria-label","Media Lightbox");var r=document.createElement("span");r.innerText="âœ–",r.style.position="absolute",r.style.top="20px",r.style.right="20px",r.style.fontSize="24px",r.style.color="#fff",r.style.cursor="pointer",r.setAttribute("aria-label","Close lightbox"),r.setAttribute("role","button"),r.setAttribute("tabindex","0"),n.innerHTML=t,n.appendChild(r),document.body.appendChild(n),r.focus(),r.addEventListener("click",(function(e){e.stopPropagation(),n.remove()})),n.addEventListener("click",(function(){n.remove()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&n.remove()}),{once:!0})}(o)})))}}))}));