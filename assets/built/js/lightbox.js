(()=>{function e(e){console.log("Displaying lightbox for:",e);var t="";if(e.match(/\.(jpeg|jpg|gif|png)$/))t='<img src="'.concat(e,'" style="max-width:90%; max-height:80vh;">');else if(e.includes("youtube.com")||e.includes("youtu.be")||e.includes("vimeo.com")){var o=function(e){var t="";if(e.includes("youtube.com")||e.includes("youtu.be")){var o=e.split(/v=|youtu\.be\//)[1].split(/[?&]/)[0];t="https://www.youtube.com/embed/".concat(o,"?autoplay=1&enablejsapi=1")}else if(e.includes("vimeo.com")){var i=e.split("/").pop();t="https://player.vimeo.com/video/".concat(i,"?autoplay=1")}return t}(e);t='<div class="aspect-ratio-16-9"><iframe src="'.concat(o,'" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div>')}else t=e.match(/\.(mp4|webm|ogg)$/)?'<div class="aspect-ratio-16-9"><video controls autoplay src="'.concat(e,'" style="object-fit: contain;"></video></div>'):'<div class="aspect-ratio-16-9"><iframe src="'.concat(e,'" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div>');var i=document.createElement("div");i.id="flexline-lightbox",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%",i.style.backgroundColor="rgba(0, 0, 0, 0.8)",i.style.display="flex",i.style.justifyContent="center",i.style.alignItems="center",i.style.zIndex="10000000",i.style.cursor="pointer",i.setAttribute("role","dialog"),i.setAttribute("aria-modal","true"),i.setAttribute("aria-label","Media Lightbox");var l=document.createElement("span");l.innerText="close",l.style.position="absolute",l.style.top="20px",l.style.right="20px",l.style.fontSize="24px",l.style.color="#fff",l.style.cursor="pointer",l.setAttribute("aria-label","Close lightbox"),l.setAttribute("role","button"),l.setAttribute("tabindex","0"),l.className="material-symbols-outlined",i.innerHTML=t,i.appendChild(l),document.body.appendChild(i),l.focus(),l.addEventListener("click",(function(e){e.stopPropagation(),i.remove()})),i.addEventListener("click",(function(){i.remove()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&i.remove()}),{once:!0})}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".enable-lightbox").forEach((function(t){var o=t.querySelector("img, a");if(o){var i=t.getAttribute("data-popup-media-url");i&&(o.classList.add("has-popup"),o.setAttribute("data-enable-popup","true"),o.setAttribute("data-popup-media-url",i),o.addEventListener("click",(function(t){t.preventDefault(),e(i)})))}})),document.querySelectorAll(".wp-block-group.group-link").forEach((function(t){var o=t.getAttribute("data-group-link-url");o&&(t.classList.contains("group-link-type-popup_media")?t.addEventListener("click",(function(t){t.preventDefault(),e(o)})):t.classList.contains("group-link-type-new_tab")?t.addEventListener("click",(function(e){e.preventDefault(),window.open(o,"_blank").focus()})):t.addEventListener("click",(function(e){e.preventDefault(),window.location.href=o})))}))}))})();