(()=>{function e(e){console.log("Displaying lightbox for:",e);var t="";if(e.match(/\.(jpeg|jpg|gif|png)$/))t='<img src="'.concat(e,'" style="max-width:90%; max-height:80vh;">');else if(e.includes("youtube.com")||e.includes("youtu.be")||e.includes("vimeo.com")){var o=function(e){for(var t=0,o=[{match:/(youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/,embedUrl:function(e){return"https://www.youtube.com/embed/".concat(e,"?autoplay=1&enablejsapi=1")}},{match:/vimeo\.com\/(\d+)/,embedUrl:function(e){return"https://player.vimeo.com/video/".concat(e,"?autoplay=1")}}];t<o.length;t++){var a=o[t],i=e.match(a.match);if(i&&i[2])return a.embedUrl(i[2])}return""}(e);t='<div class="aspect-ratio-16-9"><iframe src="'.concat(o,'" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div>')}else t=e.match(/\.(mp4|webm|ogg)$/)?'<div class="aspect-ratio-16-9"><video controls autoplay src="'.concat(e,'" style="object-fit: contain;"></video></div>'):'<div class="aspect-ratio-match-window"><iframe src="'.concat(e,'" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe></div>');var a=document.createElement("div");a.id="flexline-lightbox",a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.style.backgroundColor="rgba(0, 0, 0, 0.8)",a.style.display="flex",a.style.justifyContent="center",a.style.alignItems="center",a.style.zIndex="10000000",a.style.cursor="pointer",a.setAttribute("role","dialog"),a.setAttribute("aria-modal","true"),a.setAttribute("aria-label","Media Lightbox");var i=document.createElement("span");i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 -960 960 960" width="24"><path fill="#ffffff" d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg>',i.style.position="absolute",i.style.top="20px",i.style.right="20px",i.style.fontSize="24px",i.style.color="#fff",i.style.cursor="pointer",i.setAttribute("aria-label","Close lightbox"),i.setAttribute("role","button"),i.setAttribute("tabindex","0"),i.className="material-symbols-outlined",a.innerHTML=t,a.appendChild(i),document.body.appendChild(a),i.focus(),i.addEventListener("click",(function(e){e.stopPropagation(),a.remove()})),a.addEventListener("click",(function(){a.remove()})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&a.remove()}),{once:!0})}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".enable-lightbox").forEach((function(t){var o=t.querySelector("img, a");if(o){var a,i,n=t.dataset.popupMediaUrl||o.getAttribute("A"===o.tagName?"href":"src");n&&(i=n,(a=o).classList.add("has-popup"),a.setAttribute("data-enable-popup","true"),a.setAttribute("data-popup-media-url",i),a.addEventListener("click",(function(t){t.preventDefault(),e(i)})))}})),document.querySelectorAll(".wp-block-group.group-link").forEach((function(t){var o=t.dataset.groupLinkUrl;if(o){var a=t.classList.contains("group-link-type-popup_media")?function(t){t.preventDefault(),e(o)}:t.classList.contains("group-link-type-new_tab")?function(e){e.preventDefault(),window.open(o,"_blank").focus()}:function(e){e.preventDefault(),window.location.href=o};t.addEventListener("click",a)}}))}))})();